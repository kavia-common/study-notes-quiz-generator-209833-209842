{"is_source_file": true, "format": "Python", "description": "This file defines a Python class 'QuizJsonStore' which manages storage and retrieval of quiz data in a JSON file. It includes methods for loading, saving, adding, and listing quizzes with atomic write operations for safety.", "external_files": ["json", "os", "tempfile"], "external_methods": ["json.load", "json.dump", "os.path.exists", "os.path.abspath", "os.getenv", "os.makedirs", "open", "os.fdopen", "os.fsync", "os.replace", "os.remove"], "published": ["DEFAULT_DATA_FILE", "QuizJsonStore"], "classes": [{"name": "QuizJsonStore", "description": "A class for managing quiz data stored in a JSON file with safe atomic write operations."}], "methods": [{"name": "None __init__(self, path: Optional[str] = None)", "description": "Initializes the store with a path, creating parent directories if needed.", "scope": "QuizJsonStore", "scopeKind": "class"}, {"name": "Dict[str,Any] load_all(self)", "description": "Loads and returns the entire data structure from the JSON file, initializing if missing or corrupted.", "scope": "QuizJsonStore", "scopeKind": "class"}, {"name": "None save_all(self, data: Dict[str, Any])", "description": "Saves the provided data dict to the JSON file atomically.", "scope": "QuizJsonStore", "scopeKind": "class"}, {"name": "Dict[str,Any] add_quiz(self, quiz: Dict[str, Any])", "description": "Adds a quiz object to the store and saves it.", "scope": "QuizJsonStore", "scopeKind": "class"}, {"name": "Optional[Dict[str,Any]] get_quiz(self, quiz_id: str)", "description": "Retrieves a quiz by its ID.", "scope": "QuizJsonStore", "scopeKind": "class"}, {"name": "List[Dict[str,Any]] list_quizzes(self)", "description": "Returns a list of all quizzes.", "scope": "QuizJsonStore", "scopeKind": "class"}, {"name": "None _atomic_write(self, data: Dict[str, Any])", "description": "Performs an atomic write of data to the JSON file using a temporary file.", "scope": "QuizJsonStore", "scopeKind": "class"}], "calls": ["os.getenv", "os.makedirs", "os.path.abspath", "os.path.dirname", "os.path.exists", "json.load", "json.dump", "os.fdopen", "os.fsync", "os.replace", "os.remove"], "search-terms": ["QuizJsonStore", "json_store", "atomic write", "load_all", "save_all", "add_quiz", "get_quiz", "list_quizzes"], "state": 2, "file_id": 5, "knowledge_revision": 11, "git_revision": "", "ctags": [{"_type": "tag", "name": "DEFAULT_DATA_FILE", "path": "/home/kavia/workspace/code-generation/study-notes-quiz-generator-209833-209842/quiz_backend/src/storage/json_store.py", "pattern": "/^DEFAULT_DATA_FILE = \".\\/data\\/quizzes.json\"$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "QuizJsonStore", "path": "/home/kavia/workspace/code-generation/study-notes-quiz-generator-209833-209842/quiz_backend/src/storage/json_store.py", "pattern": "/^class QuizJsonStore:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/study-notes-quiz-generator-209833-209842/quiz_backend/src/storage/json_store.py", "pattern": "/^    def __init__(self, path: Optional[str] = None) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self, path: Optional[str] = None)", "scope": "QuizJsonStore", "scopeKind": "class"}, {"_type": "tag", "name": "_atomic_write", "path": "/home/kavia/workspace/code-generation/study-notes-quiz-generator-209833-209842/quiz_backend/src/storage/json_store.py", "pattern": "/^    def _atomic_write(self, data: Dict[str, Any]) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self, data: Dict[str, Any])", "scope": "QuizJsonStore", "scopeKind": "class"}, {"_type": "tag", "name": "add_quiz", "path": "/home/kavia/workspace/code-generation/study-notes-quiz-generator-209833-209842/quiz_backend/src/storage/json_store.py", "pattern": "/^    def add_quiz(self, quiz: Dict[str, Any]) -> Dict[str, Any]:$/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "member", "signature": "(self, quiz: Dict[str, Any])", "scope": "QuizJsonStore", "scopeKind": "class"}, {"_type": "tag", "name": "get_quiz", "path": "/home/kavia/workspace/code-generation/study-notes-quiz-generator-209833-209842/quiz_backend/src/storage/json_store.py", "pattern": "/^    def get_quiz(self, quiz_id: str) -> Optional[Dict[str, Any]]:$/", "language": "Python", "typeref": "typename:Optional[Dict[str,Any]]", "kind": "member", "signature": "(self, quiz_id: str)", "scope": "QuizJsonStore", "scopeKind": "class"}, {"_type": "tag", "name": "list_quizzes", "path": "/home/kavia/workspace/code-generation/study-notes-quiz-generator-209833-209842/quiz_backend/src/storage/json_store.py", "pattern": "/^    def list_quizzes(self) -> List[Dict[str, Any]]:$/", "language": "Python", "typeref": "typename:List[Dict[str,Any]]", "kind": "member", "signature": "(self)", "scope": "QuizJsonStore", "scopeKind": "class"}, {"_type": "tag", "name": "load_all", "path": "/home/kavia/workspace/code-generation/study-notes-quiz-generator-209833-209842/quiz_backend/src/storage/json_store.py", "pattern": "/^    def load_all(self) -> Dict[str, Any]:$/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "member", "signature": "(self)", "scope": "QuizJsonStore", "scopeKind": "class"}, {"_type": "tag", "name": "save_all", "path": "/home/kavia/workspace/code-generation/study-notes-quiz-generator-209833-209842/quiz_backend/src/storage/json_store.py", "pattern": "/^    def save_all(self, data: Dict[str, Any]) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self, data: Dict[str, Any])", "scope": "QuizJsonStore", "scopeKind": "class"}], "hash": "6c35d76c8c2059592841bc9994b087e8", "format-version": 4, "code-base-name": "quiz_backend", "filename": "quiz_backend/src/storage/json_store.py", "fields": [{"name": "DEFAULT_DATA_FILE = \".\\/data\\/quizzes.json\"", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"11": ""}]}