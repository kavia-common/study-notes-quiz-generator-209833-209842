{"is_source_file": true, "format": "Python", "description": "This file sets up a FastAPI-based backend API for a study notes quiz generator. It defines endpoints for health checks, submitting notes to generate quizzes, listing stored quizzes, and retrieving individual quizzes. It includes middleware configuration, caching strategies, and interactions with storage and quiz generation services.", "external_files": ["src/storage/json_store", "src/services/quiz_generator", "src/api/schemas"], "external_methods": ["generate_quiz_from_notes", "QuizJsonStore.load_all", "QuizJsonStore.get_quiz", "QuizJsonStore.add_quiz", "QuizJsonStore.list_quizzes"], "published": ["app", "health_check", "submit_notes", "list_quizzes", "get_quiz"], "classes": [{"name": "QuizJsonStore", "description": "A storage class handling quiz data persistence, retrieval, and listing, backed by a JSON file."}], "methods": [{"name": "QuizJsonStore get_store()", "description": "Provides a singleton instance of the QuizJsonStore, using cached construction.", "scope": "", "scopeKind": ""}, {"name": "QuizJsonStore _get_store_singleton()", "description": "Creates and caches a single instance of QuizJsonStore based on environment variable or default path.", "scope": "", "scopeKind": ""}, {"name": "health_check()", "description": "A simple endpoint to verify the backend service is running.", "scope": "", "scopeKind": ""}, {"name": "QuizOut submit_notes(note_in: NoteIn)", "description": "Generates a quiz from submitted study notes and stores it, returning the quiz data.", "scope": "", "scopeKind": ""}, {"name": "List[QuizMetaOut] list_quizzes()", "description": "Returns metadata for all stored quizzes, sorted by creation date.", "scope": "", "scopeKind": ""}, {"name": "QuizOut get_quiz(quiz_id: str)", "description": "Fetches a full quiz payload by its identifier.", "scope": "", "scopeKind": ""}], "calls": ["load_dotenv", "FastAPI", "add_middleware", "lru_cache", "os.getenv", "QuizJsonStore.load_all", "QuizJsonStore.get_quiz", "QuizJsonStore.add_quiz", "QuizJsonStore.list_quizzes", "generate_quiz_from_notes", "HTTPException"], "search-terms": ["FastAPI", "Quiz generation", "generate_quiz_from_notes", "QuizJsonStore", "health_check", "submit_notes", "list_quizzes", "get_quiz"], "state": 2, "file_id": 1, "knowledge_revision": 20, "git_revision": "46a8203644179a7330099159b8fa94cfbb49d890", "revision_history": [{"8": "b25683c0ad4f9b1949e51e55b43e72e32eb57010"}, {"12": "46a8203644179a7330099159b8fa94cfbb49d890"}, {"20": "46a8203644179a7330099159b8fa94cfbb49d890"}], "ctags": [{"_type": "tag", "name": "_get_store_singleton", "path": "/home/kavia/workspace/code-generation/study-notes-quiz-generator-209833-209842/quiz_backend/src/api/main.py", "pattern": "/^def _get_store_singleton() -> QuizJsonStore:$/", "language": "Python", "typeref": "typename:QuizJsonStore", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/study-notes-quiz-generator-209833-209842/quiz_backend/src/api/main.py", "pattern": "/^app = FastAPI($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "get_quiz", "path": "/home/kavia/workspace/code-generation/study-notes-quiz-generator-209833-209842/quiz_backend/src/api/main.py", "pattern": "/^def get_quiz(quiz_id: str) -> QuizOut:$/", "language": "Python", "typeref": "typename:QuizOut", "kind": "function", "signature": "(quiz_id: str)"}, {"_type": "tag", "name": "get_store", "path": "/home/kavia/workspace/code-generation/study-notes-quiz-generator-209833-209842/quiz_backend/src/api/main.py", "pattern": "/^def get_store() -> QuizJsonStore:$/", "language": "Python", "typeref": "typename:QuizJsonStore", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "health_check", "path": "/home/kavia/workspace/code-generation/study-notes-quiz-generator-209833-209842/quiz_backend/src/api/main.py", "pattern": "/^def health_check():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "list_quizzes", "path": "/home/kavia/workspace/code-generation/study-notes-quiz-generator-209833-209842/quiz_backend/src/api/main.py", "pattern": "/^def list_quizzes() -> List[QuizMetaOut]:$/", "language": "Python", "typeref": "typename:List[QuizMetaOut]", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "openapi_tags", "path": "/home/kavia/workspace/code-generation/study-notes-quiz-generator-209833-209842/quiz_backend/src/api/main.py", "pattern": "/^openapi_tags = [$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "submit_notes", "path": "/home/kavia/workspace/code-generation/study-notes-quiz-generator-209833-209842/quiz_backend/src/api/main.py", "pattern": "/^def submit_notes(note_in: NoteIn) -> QuizOut:$/", "language": "Python", "typeref": "typename:QuizOut", "kind": "function", "signature": "(note_in: NoteIn)"}], "hash": "4854f2f78aac53dfa3ac56af4a1abef0", "format-version": 4, "code-base-name": "quiz_backend", "filename": "quiz_backend/src/api/main.py", "fields": [{"name": "app = FastAPI(", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "openapi_tags = [", "scope": "", "scopeKind": "", "description": "unavailable"}]}